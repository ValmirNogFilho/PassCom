services:
  # Serviço Giro
  giro:
    build:
      context: ./giro
    container_name: giro-1
    ports:
      - "9999:9999"
    volumes:
      - ./giro/internal/stubs:/app/internal/stubs
      - ./giro/database.db:/app/database.db
    networks:
      - passcom
    environment:
      - PORT=9999
    command: ["./app"]

  giro_ui:
    build:
      context: ./giro/ui
    container_name: giro-ui-1
    ports:
      - "5172:5172"
    networks:
      - passcom
    depends_on:
      - giro

  # Serviço Rumos
  # rumos:
  #   build:
  #     context: ./rumos
  #   container_name: rumos
  #   ports:
  #     - "8888:8888"
  #   volumes:
  #     - ./rumos/internal/stubs:/app/internal/stubs
  #     - ./rumos/test.db:/app/test.db
  #   networks:
  #     - passcom
  #   command: ["./api"]

  # rumos_ui:
  #   build:
  #     context: ./rumos/ui
  #   ports:
  #     - "5173:5173"
  #   networks:
  #     - passcom
  #   depends_on:
  #     - rumos

networks:
  passcom:
    driver: bridge
    external: true
